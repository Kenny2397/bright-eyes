import{d as C,c as x,t as k,o as b,r as m,a as Q,b as r,F as A,e as l,f as u,u as Pe,g as ce,w as pe,v as fe,h as me,i as a,j as Z,k as _,P as Ee,s as Ae,l as He,D as Oe,m as Me,n as Ue,p as W,q as Le,x as Be,y as je,z as Fe,A as ze,I as Te}from"./vendor.4904c16c.js";const Re=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function g(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=g(s);fetch(s.href,c)}};Re();var S=(t,e)=>{for(const[g,o]of e)t[g]=o;return t};const Ge=C({props:["title"]}),We={class:"header"};function qe(t,e,g,o,s,c){return b(),x("div",We,k(t.title),1)}var P=S(Ge,[["render",qe],["__scopeId","data-v-0fdbe45e"]]);const Xe=C({name:"Start",components:{nodeHeader:P},setup(){}});function Ye(t,e,g,o,s,c){const d=m("nodeHeader");return b(),Q(d,{title:"Start"})}var Je=S(Xe,[["render",Ye]]);const Ke=C({name:"Print",components:{nodeHeader:P},setup(){return{}}}),Qe=l("div",null,null,-1);function Ze(t,e,g,o,s,c){const d=m("nodeHeader");return b(),x(A,null,[r(d,{title:"Print"}),Qe],64)}var et=S(Ke,[["render",Ze]]);const tt=C({name:"Number",components:{nodeHeader:P},setup(){const t=u(0);return Pe(),u(null),u(0),u({}),ce().appContext.config.globalProperties.$df.value,{numbervalue:t}}});function ot(t,e,g,o,s,c){const d=m("nodeHeader");return b(),x("div",null,[r(d,{title:"Number"}),pe(l("input",{type:"number",placeholder:"Ingresa un Numero","onUpdate:modelValue":e[0]||(e[0]=v=>t.numbervalue=v),onChange:e[1]||(e[1]=(...v)=>t.updateNumber&&t.updateNumber(...v)),required:"","df-numbervalue":""},null,544),[[fe,t.numbervalue]]),l("div",null,[l("h4",null,"Value: "+k(t.numbervalue),1)])])}var nt=S(tt,[["render",ot]]);const rt=C({name:"Assignation",components:{nodeHeader:P},setup(){return{variableName:u("")}}});function lt(t,e,g,o,s,c){const d=m("nodeHeader");return b(),x("div",null,[r(d,{title:"Assignation"}),l("div",null,[pe(l("input",{name:"variable",type:"text","onUpdate:modelValue":e[0]||(e[0]=v=>t.variableName=v),onChange:e[1]||(e[1]=()=>{}),placeholder:"Ingresa el nombre de la variable: ","df-variablename":""},null,544),[[fe,t.variableName]]),l("p",null,"Variable: "+k(t.variableName),1)])])}var at=S(rt,[["render",lt]]);const dt=C({name:"Operation",components:{nodeHeader:P},setup(){const t=u("Add"),e=me([{value:"Add",label:"Add"},{value:"Sub",label:"Sub"},{value:"Multiply",label:"Multiply"},{value:"Divide",label:"Divide"}]);return{operation:t,options:e,updateOperation:o=>{t.value=select,console.log(t.value)}}}}),it=l("br",null,null,-1),st=l("br",null,null,-1),ut=l("div",null,null,-1);function ct(t,e,g,o,s,c){const d=m("nodeHeader"),v=m("el-option"),y=m("el-select");return b(),x(A,null,[l("div",null,[r(d,{title:"Operation"})]),l("div",null,[r(y,{modelValue:t.operation,"onUpdate:modelValue":e[0]||(e[0]=w=>t.operation=w),placeholder:"Select",onChange:e[1]||(e[1]=()=>{}),"df-operation":""},{default:a(()=>[(b(!0),x(A,null,Z(t.options,w=>(b(),Q(v,{key:w.value,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),it,st,ut])],64)}var pt=S(dt,[["render",ct]]);const ft=C({name:"IfElse",components:{nodeHeader:P},setup(){const t=u(""),e=u(""),g=u("");return{condition:t,ifSentence:e,elseSentence:g}}}),mt=_("Condition: "),wt=_("If Sentence: "),_t=_("Else Sentence: ");function vt(t,e,g,o,s,c){const d=m("nodeHeader"),v=m("el-label"),y=m("el-input");return b(),x("div",null,[r(d,{title:"If - Else"}),r(v,{for:"condition"},{default:a(()=>[mt]),_:1}),r(y,{"df-condition":"",name:"condition",type:"text",modelValue:t.condition,"onUpdate:modelValue":e[0]||(e[0]=w=>t.condition=w),placeholder:"boolean value"},null,8,["modelValue"]),r(v,{for:"ifSentence"},{default:a(()=>[wt]),_:1}),r(y,{"df-ifSentence":"",name:"ifSentence",type:"text",modelValue:t.ifSentence,"onUpdate:modelValue":e[1]||(e[1]=w=>t.ifSentence=w),placeholder:"Write a Sentence"},null,8,["modelValue"]),r(v,{for:"elseSentence"},{default:a(()=>[_t]),_:1}),r(y,{"df-elseSentence":"",name:"elseSentence",type:"text",modelValue:t.elseSentence,"onUpdate:modelValue":e[2]||(e[2]=w=>t.elseSentence=w),placeholder:"Write a Sentence"},null,8,["modelValue"])])}var gt=S(ft,[["render",vt]]);const ht=C({name:"For",components:{nodeHeader:P},setup(){const t=u(0),e=u(0),g=u("");return{i:t,range:e,sentence:g}}}),bt=_("i: "),yt=_("range(n): "),xt=_("Sentence: ");function St(t,e,g,o,s,c){const d=m("nodeHeader"),v=m("el-label"),y=m("el-input");return b(),x("div",null,[r(d,{title:"For"}),l("div",null,[r(v,{for:"i"},{default:a(()=>[bt]),_:1}),r(y,{name:"i",type:"number",modelValue:t.i,"onUpdate:modelValue":e[0]||(e[0]=w=>t.i=w),placeholder:"i","df-i":""},null,8,["modelValue"]),r(v,{for:"range"},{default:a(()=>[yt]),_:1}),r(y,{name:"range",type:"number",modelValue:t.range,"onUpdate:modelValue":e[1]||(e[1]=w=>t.range=w),placeholder:"n","df-range":""},null,8,["modelValue"]),r(v,{for:"sentence"},{default:a(()=>[xt]),_:1}),r(y,{name:"sentence",type:"text",modelValue:t.sentence,"onUpdate:modelValue":e[2]||(e[2]=w=>t.sentence=w),placeholder:"Write a sentence","df-forSentence":""},null,8,["modelValue"])])])}var Vt=S(ht,[["render",St]]);const Ct={name:"drawflow",components:{PrismEditor:Ee},setup(){const t=me([{name:"Start",color:"gray",item:"Start",input:0,output:1},{name:"Print",color:"orange",item:"Print",input:1,output:0},{name:"Number",color:"red",item:"Number",input:1,output:1},{name:"Assignation",color:"rebeccapurple",item:"Assignation",input:1,output:1},{name:"Operation",color:"gray",item:"Operation",input:2,output:1},{name:"IfElse",color:"green",item:"IfElse",input:1,output:1},{name:"For",color:"gold",item:"For",input:2,output:1}]),e=Ae({}),g=u(!1),o=u({}),s=u({}),c=u(""),d=u(!1),v=u(!1),y=u(!1),w=u(!1),H=u({}),O=u(""),E=u(""),N=u(""),M=u("print(Hello)"),q=u({}),i={version:3,h:Me,render:Ue},$=ce();$.appContext.app._context.config.globalProperties.$df=e;function te(n){e.value.clear(),e.value.import(n)}function we(){d.value=!0}function _e(){v.value=!0;try{fetch("http://localhost:5050/drawflows").then(n=>n.json()).then(n=>{console.log(n),H.value=n.getAll})}catch(n){console.error(n)}}function ve(){e.value.clear()}async function oe(n,f){fetch(n,{method:"POST",body:JSON.stringify(f),headers:{"content-type":"application/json"}}).then(p=>console.log(p)).catch(p=>console.log("Error!:",p))}function ge(){if(c.value===""){alert("ingrese un nombre para el identificador");return}let n=e.value.export().drawflow.Home.data,f=Object.values(n),p={identifier:c.value,data:f};oe("http://localhost:5050/new",p),d.value=!1,c.value=""}const he=n=>{let f={};n.query[0].data.map(V=>{let L=V.id;f[L]=V});let p={drawflow:{Home:{data:f}}};return console.log(p),p},be=async()=>{const n=await fetch("http://localhost:5050/drawflow/"+O.value).then(p=>p.json()).then(p=>(console.log(p),v.value=!1,p)).catch(p=>console.log(p)),f=he(n);te(f)};function ye(n){return W.exports.highlight(n,W.exports.languages.py)}function xe(){o.value=e.value.export(),y.value=!0}function Se(){w.value=!0;let n=e.value.export().drawflow.Home.data,f=Object.values(n);function p(D){return M.value=D,W.exports.highlight(M.value,W.exports.languages.py)}async function V(D,I){return await fetch(D,{method:"POST",body:JSON.stringify(I),headers:{"content-type":"application/json"}}).then(h=>(console.log(h),h.json())).then(h=>{N.value=h,p(h.Output),console.log(h)}).catch(h=>console.error("Error!:",h))}const L=D=>{var ie,se,ue;let I=[],h="";const Y=F=>F.filter(K=>K.name==="Start")[0],B=F=>f.filter(K=>K.id===F)[0],T=F=>{switch(F){case"Print":return"0";case"Number":return"1";case"Assignation":return"2";case"Operation":return"3";case"IfElse":return"4";case"For":return"5";default:return!1}},j=Y(D);I.push(j);let ae=!1,R=j,J=NaN,G={},de="";for(;!ae;){if(J=parseInt((ue=(se=(ie=R==null?void 0:R.outputs)==null?void 0:ie.output_1)==null?void 0:se.connections[0])==null?void 0:ue.node),isNaN(J)){ae=!0;continue}G=B(J),de=T(G.name),h=h+de,I.push(G),R=G}return{orderedNodes:I,codeUseCases:h}},ke=({orderedNodes:D,codeUseCases:I})=>{let h="";const Y=()=>{var T,j;let B=(j=(T=D[1])==null?void 0:T.data)==null?void 0:j.numbervalue;return B===""?(console.log(B),"valor de Number no ingresado"):(h=h+"print("+B+")",h)};switch(I){case"10":return Y()}};let Ne=L(f);E.value=ke(Ne);let $e="http://localhost:5050/run",De={pythonCode:E.value};V($e,De)}const ne=n=>{n.type==="touchstart"?X=n.target.closest(".drag-drawflow").getAttribute("data-node"):n.dataTransfer.setData("node",n.target.getAttribute("data-node"))},re=n=>{if(n.type==="touchend"){var f=document.elementFromPoint(U.touches[0].clientX,U.touches[0].clientY).closest("#drawflow");f!=null&&le(X,U.touches[0].clientX,U.touches[0].clientY),X=""}else{n.preventDefault();var p=n.dataTransfer.getData("node");le(p,n.clientX,n.clientY)}},Ve=n=>{n.preventDefault()};let X="",U=null;function Ce(n){U=n}function le(n,f,p){f=f*(e.value.precanvas.clientWidth/(e.value.precanvas.clientWidth*e.value.zoom))-e.value.precanvas.getBoundingClientRect().x*(e.value.precanvas.clientWidth/(e.value.precanvas.clientWidth*e.value.zoom)),p=p*(e.value.precanvas.clientHeight/(e.value.precanvas.clientHeight*e.value.zoom))-e.value.precanvas.getBoundingClientRect().y*(e.value.precanvas.clientHeight/(e.value.precanvas.clientHeight*e.value.zoom));const V=t.find(L=>L.item==n);e.value.addNode(n,V.input,V.output,f,p,n,{},n,"vue")}return He(()=>{for(var n=document.getElementsByClassName("drag-drawflow"),f=0;f<n.length;f++)n[f].addEventListener("touchend",re,!1),n[f].addEventListener("touchmove",Ce,!1),n[f].addEventListener("touchstart",ne,!1);const p=document.getElementById("drawflow");e.value=new Oe(p,i,$.appContext.app._context),e.value.start(),e.value.registerNode("Start",Je,{},{}),e.value.registerNode("Print",et,{},{}),e.value.registerNode("Number",nt,{},{}),e.value.registerNode("Assignation",at,{},{}),e.value.registerNode("Operation",pt,{},{}),e.value.registerNode("IfElse",gt,{},{}),e.value.registerNode("For",Vt,{},{}),e.value.import({drawflow:{Home:{data:{"1":{id:1,name:"Start",data:{},class:"Start",html:"Start",typenode:"vue",inputs:{},outputs:{output_1:{connections:[{node:"3",output:"input_1"}]}},pos_x:91,pos_y:44},"2":{id:2,name:"Print",data:{},class:"Print",html:"Print",typenode:"vue",inputs:{input_1:{connections:[{node:"3",input:"output_1"}]}},outputs:{},pos_x:354,pos_y:229},"3":{id:3,name:"Number",data:{numbervalue:"23"},class:"Number",html:"Number",typenode:"vue",inputs:{input_1:{connections:[{node:"1",input:"output_1"}]}},outputs:{output_1:{connections:[{node:"2",output:"input_1"}]}},pos_x:21,pos_y:234}}}}})}),{exportEditor:xe,RunProgram:Se,CleanBoard:ve,listNodes:t,drag:ne,drop:re,allowDrop:Ve,ModalSave:we,ModalList:_e,ActivateModalSave:d,ActivateModalList:v,dialogVisible:y,modalExecuteProgram:w,terminalVisible:g,dialogData:o,terminalData:s,drawflows:H,searchIdentifier:O,pythonCode:E,outputPythonCode:N,code:M,dataObj:q,highlighter:ye,drawflowIdentifier:c,GetDrawflowByIdentifier:be,CreateDrawflow:oe,SaveDrawflow:ge,importData:te}}},z=t=>(Le("data-v-d714f52a"),t=t(),Be(),t),kt=z(()=>l("h3",null,"Drawflow visual programming",-1)),Nt=_("Clean Board"),$t=_("Save Drawflow"),Dt=_("List Drawflows"),It=_("Export"),Pt=_("Run Program"),Et=["data-node"],At=_("Ingrese el nombre de su Drawflow:"),Ht={class:"dialog-footer"},Ot=_("Save Program"),Mt=_(" \xA0 "),Ut=_("Cancel"),Lt={className:"table table-hover"},Bt=z(()=>l("thead",null,[l("th",null,"uid"),l("th",null,"identifier")],-1)),jt={href:"#"},Ft={name:""},zt=_("Ingrese el nombreidentificador de Drawflow a obtener:"),Tt={class:"dialog-footer"},Rt=_("GET"),Gt=_(" \xA0 "),Wt=_("Cancel"),qt=z(()=>l("span",null,"Data:",-1)),Xt={class:"dialog-footer"},Yt=_("Cancel"),Jt=z(()=>l("span",null,"Input:",-1)),Kt=z(()=>l("span",null,"Output:",-1)),Qt={class:"dialog-footer"},Zt=_("Cancel"),eo=_(" \xA0 ");function to(t,e,g,o,s,c){const d=m("el-button"),v=m("el-header"),y=m("el-aside"),w=m("el-main"),H=m("el-container"),O=m("el-label"),E=m("el-input"),N=m("el-dialog"),M=m("el-form"),q=m("prism-editor");return b(),x(A,null,[r(H,null,{default:a(()=>[r(v,{class:"header"},{default:a(()=>[kt,r(d,{type:"primary",onClick:o.CleanBoard},{default:a(()=>[Nt]),_:1},8,["onClick"]),r(d,{type:"primary",onClick:o.ModalSave},{default:a(()=>[$t]),_:1},8,["onClick"]),r(d,{type:"primary",onClick:o.ModalList},{default:a(()=>[Dt]),_:1},8,["onClick"]),r(d,{type:"primary",onClick:o.exportEditor},{default:a(()=>[It]),_:1},8,["onClick"]),r(d,{type:"warning",onClick:o.RunProgram},{default:a(()=>[Pt]),_:1},8,["onClick"])]),_:1}),r(H,{class:"container"},{default:a(()=>[r(y,{width:"250px",class:"column"},{default:a(()=>[l("ul",null,[(b(!0),x(A,null,Z(o.listNodes,i=>(b(),x("li",{key:i,draggable:"true","data-node":i.item,onDragstart:e[0]||(e[0]=$=>o.drag($)),class:"drag-drawflow"},[l("div",{class:"node",style:je(`background: ${i.color}`)},k(i.name),5)],40,Et))),128))])]),_:1}),r(w,null,{default:a(()=>[l("div",{id:"drawflow",onDrop:e[1]||(e[1]=i=>o.drop(i)),onDragover:e[2]||(e[2]=i=>o.allowDrop(i))},null,32)]),_:1})]),_:1})]),_:1}),l("div",null,k(t.data),1),r(N,{modelValue:o.ActivateModalSave,"onUpdate:modelValue":e[5]||(e[5]=i=>o.ActivateModalSave=i),title:"Save Program",width:"50%"},{footer:a(()=>[l("span",Ht,[r(d,{type:"primary",onClick:o.SaveDrawflow},{default:a(()=>[Ot]),_:1},8,["onClick"]),Mt,r(d,{type:"warning",onClick:e[4]||(e[4]=i=>o.ActivateModalSave=!1)},{default:a(()=>[Ut]),_:1})])]),default:a(()=>[r(O,{for:"identifier"},{default:a(()=>[At]),_:1}),r(E,{name:"identifier",modelValue:o.drawflowIdentifier,"onUpdate:modelValue":e[3]||(e[3]=i=>o.drawflowIdentifier=i),placeholder:"identifier"},null,8,["modelValue"])]),_:1},8,["modelValue"]),r(N,{modelValue:o.ActivateModalList,"onUpdate:modelValue":e[8]||(e[8]=i=>o.ActivateModalList=i),title:"List Programs",width:"50%"},{footer:a(()=>[l("span",Tt,[r(d,{type:"submit",onClick:o.GetDrawflowByIdentifier},{default:a(()=>[Rt]),_:1},8,["onClick"]),Gt,r(d,{type:"warning",onClick:e[7]||(e[7]=i=>o.ActivateModalList=!1)},{default:a(()=>[Wt]),_:1})])]),default:a(()=>[r(M,{action:"GetDrawflow",method:"GET"},{default:a(()=>[l("table",Lt,[Bt,l("tbody",null,[(b(!0),x(A,null,Z(o.drawflows,(i,$)=>(b(),x("tr",{key:$},[l("td",null,k($),1),l("td",null,[l("a",jt,[l("div",Ft,k(i.identifier),1)])])]))),128))])])]),_:1}),r(O,{for:"identifier"},{default:a(()=>[zt]),_:1}),r(E,{name:"identifier",modelValue:o.searchIdentifier,"onUpdate:modelValue":e[6]||(e[6]=i=>o.searchIdentifier=i),placeholder:"identifier"},null,8,["modelValue"])]),_:1},8,["modelValue"]),r(N,{modelValue:o.dialogVisible,"onUpdate:modelValue":e[10]||(e[10]=i=>o.dialogVisible=i),title:"Export",width:"50%"},{footer:a(()=>[l("span",Xt,[r(d,{type:"warning",onClick:e[9]||(e[9]=i=>o.dialogVisible=!1)},{default:a(()=>[Yt]),_:1})])]),default:a(()=>[qt,l("pre",null,[l("code",null,k(o.dialogData),1)])]),_:1},8,["modelValue"]),r(N,{modelValue:o.modalExecuteProgram,"onUpdate:modelValue":e[13]||(e[13]=i=>o.modalExecuteProgram=i),title:"Run Program",width:"50%"},{footer:a(()=>[l("span",Qt,[r(d,{type:"primary",onClick:e[12]||(e[12]=i=>o.modalExecuteProgram=!1)},{default:a(()=>[Zt]),_:1}),eo])]),default:a(()=>[Jt,Kt,r(q,{class:"my-editor",modelValue:o.code,"onUpdate:modelValue":e[11]||(e[11]=i=>o.code=i),highlight:o.highlighter,"line-numbers":""},null,8,["modelValue","highlight"])]),_:1},8,["modelValue"])],64)}var oo=S(Ct,[["render",to],["__scopeId","data-v-d714f52a"]]);const no={setup(t){return(e,g)=>(b(),Q(oo))}},ee=Fe(no);ee.use(ze);ee.use(Te);ee.mount("#app");
